<!doctype html>
<html>
    <head>
        <title>title</title>
    </head>
    <body>
        <input type="button" id="btn_start" value="Dale!"/>
		<div><span>
            Mensajes Enviados: 
        </span>
        <span id="contador_de_mensajes">
            
        </span></div>
		<div><span>
            Respuestas Recibidas: 
        </span>
        <span id="contador_de_respuestas">
            
        </span></div>
        
    </body>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script> 
	<script type="text/javascript" src="underscore-min.js"></script>
    <script type="text/javascript" src="socket.io.js"></script>
    
	
    <script type="text/javascript" src="Filtros.js"></script>
    <script type="text/javascript" src="NodoRouter.js"></script> 
    <script type="text/javascript" src="NodoClienteHTTP.js"></script> 
    <script type="text/javascript" src="NodoConectorSocket.js"></script>
    <script type="text/javascript" src="NodoNulo.js"></script>
	<script type="text/javascript" src="Vortex.js"></script> 
	
<!--	<script type="text/javascript" src="vortex.min.js"></script>-->
	
	
    <script>
        $(document).ready(function () {
			//Vx.conectarCon(new NodoClienteHTTP('http://server-vortex.herokuapp.com', 10, true, 1000));
			//Vx.conectarCon(new NodoClienteHTTP('http://router-vortex.herokuapp.com', 10, true, 1000));
			//Vx.conectarCon(new NodoConectorSocket('https://server-vortex.herokuapp.com'));
			Vx.conectarCon(new NodoConectorSocket('http://localhost:3000'));
			
            var div_contador_enviados = $('#contador_de_mensajes');
            var div_contador_recibidos = $('#contador_de_respuestas');
            var mensajes_enviados = 0;
            var respuestas_recibidas = 0;
            $('#btn_start').click(function () {
                for (var i = 0; i < 1; i++) {
					mensajes_enviados += 1;
					div_contador_enviados.text(mensajes_enviados.toString());
					Vx.send({
                        contenido: 'prueba'
                    }, function(respuesta){
                        respuestas_recibidas += 1;
						div_contador_recibidos.text(respuestas_recibidas.toString());
                    });                    
                }
            });
        });
    </script>
</html>